{
	"info": {
		"_postman_id": "33b7c60f-1a42-4eec-af5f-3539ca0786eb",
		"name": "Tyk Demo",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Endpoint Designer Plugins",
			"item": [
				{
					"name": "Mock Response",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-api-version",
								"value": "Default",
								"type": "text"
							}
						],
						"url": {
							"raw": "http://localhost:8080/plugin-demo-api/anything/mock",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"plugin-demo-api",
								"anything",
								"mock"
							]
						},
						"description": "This request uses the `Mock Response` Endpoint Designer plugin to return a response directly from the Gateway when the API endpoint is called.\n\nThe mock response sets the response:\n- HTTP status code: `200 OK`\n- Body: See the mock JSON object in the response body\n- Headers: See the `Mock` header in the repsonse headers\n\nWhen the Mock Response is executed, the request does not reach the API Server.\n\nThis plugin is defined in the Endpoint Designer of the API Definition. It is set to execute on requests for the `Default` version of the API only, see part 2 of this plugin to see what happens when version `2` is requested instead. Control of the version is"
					},
					"response": []
				},
				{
					"name": "Modify Headers",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/plugin-demo-api/anything/modify-headers",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"plugin-demo-api",
								"anything",
								"modify-headers"
							]
						},
						"description": "To be updated"
					},
					"response": []
				},
        {
          "name": "Cache",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "x-api-version",
                "type": "text",
                "value": "Default"
              }
            ],
            "url": {
              "raw": "http://localhost:8080/plugin-demo-api/uuid",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8080",
              "path": [
                "plugin-demo-api",
                "uuid"
              ]
            },
            "description": "This request uses the `Cache` Endpoint Designer plugin to return a cached response directly from the Gateway when the API endpoint is called.\n\n- Global Cache is enabled\n- Response from Upstream will be cached for 5 seconds\n\n\nWhen this API executed, the response from upstream API server will be cached and served for upto 5 seconds to the subsequest requests made to same Endpoint.\n\nThis plugin is defined in the Endpoint Designer of the API Definition. It is set to execute on requests for the `Default` version of the API only."
          },
          "response": []
        }
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Context Variables",
			"item": [
				{
					"name": "Correlation Id",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/basic-open-api/get",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"basic-open-api",
								"get"
							]
						},
						"description": "Header `X-Req-Id` is injected by the Gateway, and can be seen in the response body. \n\nThe header value is a GUID representing the random id assigned to each request by the Gateway. It is configured using the Tyk context variable `$tyk_context.request_id`.\n\nThe value is accessible to various parts of the Tyk middleware chain, so can be used as a reference when processing requests."
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Middleware",
			"item": [
				{
					"name": "JavaScript Middleware",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Deleted",
								"value": "deleted value",
								"type": "text"
							},
							{
								"key": "Accepted",
								"value": "789",
								"type": "text"
							}
						],
						"url": {
							"raw": "http://localhost:8080/javascript-middleware-api/post?deleted=deleted-value&accepted=456",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"javascript-middleware-api",
								"post"
							],
							"query": [
								{
									"key": "deleted",
									"value": "deleted-value"
								},
								{
									"key": "accepted",
									"value": "456"
								}
							]
						},
						"description": "Calls the `JavaScript Middleware API`, which executes two JavaScript middleware functions at the `pre` and `post` hooks.\n\nThe `pre` function does the following:\n- Writes to the API Gateway application log\n- Adds `User-Agent` header\n- Deletes `Deleted` header\n- Adds `added` URL parameter\n- Deletes `deleted` URL parameter\n- Changes the request body - see `data` property of response object\n- Changes the requested URL - see `url` property of response object\n\nThe `post` function does the following:\n- Writes to the API Gateway application log\n- Adds `config-data` header using value taken from API definition `config data`"
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Versioning",
			"item": [
				{
					"name": "Versioning (part 1)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-api-version",
								"value": "Default",
								"type": "text"
							}
						],
						"url": {
							"raw": "http://localhost:8080/plugin-demo-api/anything/mock",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"plugin-demo-api",
								"anything",
								"mock"
							]
						},
						"description": "This request uses the `Mock Response` Endpoint Designer plugin to demonstrate versioning. It shows how the API Gateway can change behaviour based on the requested version of an API. Using API versioning allows you to redefine how the API Gateway will handle endpoint requests.\n\nThe API used here has two versions:\n- `Default`: the default version, used in this request, which returns a mock response directly from the Gateway\n- `2`: the second version, used in part 2, which returns a response from the API server\n\nBoth versions make a request to the same API and API endpoint. The versioning is controlled by the `x-api-version` header in the request, which the Gateway will check to decide how the handle the request."
					},
					"response": []
				},
				{
					"name": "Versioning (part 2)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-api-version",
								"type": "text",
								"value": "2"
							}
						],
						"url": {
							"raw": "http://localhost:8080/plugin-demo-api/anything/mock",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"plugin-demo-api",
								"anything",
								"mock"
							]
						},
						"description": "Part 2 of the versioning example. This request shows that when version `2` of the API is requested, the API Gateway proxies the request to the API server.\n\nThis request uses the same URL as part 1, but uses `2` as the value for the `x-api-version` request header."
					},
					"response": []
				},
				{
					"name": "Versioning (part 3)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-api-version",
								"type": "text",
								"value": "expired"
							}
						],
						"url": {
							"raw": "http://localhost:8080/plugin-demo-api/anything/mock",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"plugin-demo-api",
								"anything",
								"mock"
							]
						},
						"description": "This request shows that version can be expired. In this case a version called `expired` was created with an expiry date in the past. This means that requests for this version are rejected by the Gateway, with a message provided in the response body which says the version has expired."
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "TLS",
			"item": [
				{
					"name": "TLS request to Gateway",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://localhost:8081/plugin-demo-api/anything/mock",
							"protocol": "https",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"plugin-demo-api",
								"anything",
								"mock"
							]
						},
						"description": "This request uses the HTTPS scheme to connect to the API Gateway. The Gateway is configured to listen for requests on `localhost` and use a locally stored self-signed certificate.\n\nThis is configured in the `http_server_options` section of the Gateway's configuration file.\n\n**Note:** self-signed cetificates will fail verification by an API client, which will prevent the request for working. To resolve this, configure your client to allow self-signed certificates."
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Scaling",
			"item": [
				{
					"name": "Send request to additional Gateway",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://localhost:8081/plugin-demo-api/anything/mock",
							"protocol": "https",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"plugin-demo-api",
								"anything",
								"mock"
							]
						},
						"description": "**Note:** This request requires that the `add-gateway.sh` script is run first.\n\nThis request is sent to the container mapped on port `8088`. This container is not part of the base docker compose setup, so will not normally be available. Instead, it has to be manually created using the `add-gateway.sh` script for the purposes of demonstration. This container uses the same setup as the other containers, it connects to the same database and loads the same API definitions and policies - you can see this be making this request, it does to the same `plugin-demo-api` used elsewhere."
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Basic Security",
			"item": [
				{
					"name": "Token authorization - failure",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "",
								"type": "text"
							}
						],
						"url": {
							"raw": "http://localhost:8080/basic-security-api/",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"basic-security-api",
								""
							]
						},
						"description": "This API will showcase the Token authorization feature of Tyk.\n\nToken (Key) will not be sent in the HTTP header field `Authorization` resulting in HTTP status code `401 Unauthorized` by gateway."
					},
					"response": []
				},
				{
					"name": "Token authorization - success",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "eyJvcmciOiI1ZTlkOTU0NGExZGNkNjAwMDFkMGVkMjAiLCJpZCI6IjIxOGI1NjFiNzc3NTRlMDc4NGUyNGU1NDdjMWVhYWE3IiwiaCI6Im11cm11cjY0In0=",
								"type": "text"
							}
						],
						"url": {
							"raw": "http://localhost:8080/basic-security-api/get?Key1=Value1",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"basic-security-api",
								"get"
							],
							"query": [
								{
									"key": "Key1",
									"value": "Value1"
								}
							]
						},
						"description": "This API will showcase the Token authorization feature of Tyk.\n\nToken (Key) will be sent in the HTTP header field `Authorization`."
					},
					"response": []
				},
				{
					"name": "Rate Limit",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "eyJvcmciOiI1ZTlkOTU0NGExZGNkNjAwMDFkMGVkMjAiLCJpZCI6ImMyMjdiM2MwZjg2YTQxNTQ5NTZlYmMyMTBmM2Q0YmFkIiwiaCI6Im11cm11cjY0In0=",
								"type": "text"
							}
						],
						"url": {
							"raw": "http://localhost:8080/basic-security-api/",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"basic-security-api",
								""
							]
						},
						"description": "This API will showcase the Rate limiting feature of Tyk.\n\nRate limit is set as 2 per 5 seconds. More than 2 request per 5 will result in `429  Too many requests` error from gateway."
					},
					"response": []
				},
				{
					"name": "Throttling",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "eyJvcmciOiI1ZTlkOTU0NGExZGNkNjAwMDFkMGVkMjAiLCJpZCI6IjE5NzFmYTMyNGNmMTRjZmM5YmZkZWRhYmNiOWM4NDBiIiwiaCI6Im11cm11cjY0In0="
							}
						],
						"url": {
							"raw": "http://localhost:8080/basic-security-api/",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"basic-security-api",
								""
							],
							"query": [
								{
									"key": null,
									"value": "eyJvcmciOiI1ZTlkOTU0NGExZGNkNjAwMDFkMGVkMjAiLCJpZCI6IjE5NzFmYTMyNGNmMTRjZmM5YmZkZWRhYmNiOWM4NDBiIiwiaCI6Im11cm11cjY0In0=",
									"disabled": true
								}
							]
						},
						"description": "This API will showcase the Throttling feature of Tyk.\n\nRate limit is set as 2 per 5 seconds. Gateway Throttling is configured for 10 times with 1 sec interval. \n\nWe can obeserve a delay in response due to throttling after the rate limit has reached."
					},
					"response": []
				},
				{
					"name": "Quota Limit",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "eyJvcmciOiI1ZTlkOTU0NGExZGNkNjAwMDFkMGVkMjAiLCJpZCI6IjE5NzFmYTMyNGNmMTRjZmM5YmZkZWRhYmNiOWM4NDBiIiwiaCI6Im11cm11cjY0In0="
							}
						],
						"url": {
							"raw": "http://localhost:8080/basic-security-api/",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"basic-security-api",
								""
							],
							"query": [
								{
									"key": null,
									"value": "eyJvcmciOiI1ZTlkOTU0NGExZGNkNjAwMDFkMGVkMjAiLCJpZCI6IjE5NzFmYTMyNGNmMTRjZmM5YmZkZWRhYmNiOWM4NDBiIiwiaCI6Im11cm11cjY0In0=",
									"disabled": true
								}
							]
						},
						"description": "This API will showcase the Quota limiting feature of Tyk.\n\nQuota limit is set as 2 per hour. More than 2 request per hour will result in `403 Forbidden` error from gateway."
					},
					"response": []
				}
			],
			"description": "Collectiong of API's to demo basic security options.\n- Rate Limiting\n- Throttling\n- IP based Filtering",
			"protocolProfileBehavior": {}
		}
	],
	"protocolProfileBehavior": {}
}
